<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Termo de Uso e Responsabilidade ‚Äì Musae Bot</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,400;0,9..40,500;0,9..40,600;0,9..40,700&family=Playfair+Display:wght@600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="serverWarning" class="server-warning" style="display: none;">
        ‚ö†Ô∏è Para salvar os termos, execute <strong>npm start</strong> e acesse <a href="http://localhost:3000">http://localhost:3000</a>
    </div>
    <div class="container">
        <header class="header">
            <h1>Termo de Uso e Responsabilidade</h1>
            <p class="subtitle">Musae Bot ‚Äì Leia atentamente antes de aceitar</p>
        </header>

        <main class="main-content">
            <div class="terms-box" id="termsContent">
                <p>O Musae Bot √© um software desenvolvido por Isac Buzelli dos Santos, destinado √† leitura de mensagens de chat de servidores Minecraft e ao envio automatizado dessas mensagens para um canal privado no Discord, definido pelo contratante.</p>

                <p>O software captura mensagens de chat, usernames/nicks e hor√°rios (timestamps), encaminhando essas informa√ß√µes ao servidor Discord indicado pelo contratante, em um canal privado de modera√ß√£o.</p>

                <p>O contratante declara estar ciente de que o bot monitora o chat e encaminha as mensagens para o ambiente privado de administra√ß√£o.</p>

                <p>Nos termos da LGPD (Lei n¬∫ 13.709/2018), o contratante √© o √∫nico CONTROLADOR dos dados tratados pelo Musae Bot, sendo respons√°vel por: ter base legal para o monitoramento; informar os jogadores de forma clara sobre o monitoramento; garantir os direitos dos titulares de dados; cumprir as obriga√ß√µes legais; gerenciar as permiss√µes do canal privado no Discord; assumir total responsabilidade pelo envio das informa√ß√µes.</p>

                <p>Durante a instala√ß√£o, o desenvolvedor pode ter acesso t√©cnico tempor√°rio ao ambiente onde o bot estiver hospedado, apenas para implementa√ß√£o e testes. Esse acesso √© limitado e n√£o envolve reten√ß√£o ou armazenamento externo de dados.</p>

                <p>Ap√≥s a entrega, o desenvolvedor pode continuar como programador do servidor (Musae Eras SMP), na cria√ß√£o e manuten√ß√£o de mods. Essa atua√ß√£o n√£o envolve acesso ao canal privado de logs nem aos dados processados pelo bot.</p>

                <p>O desenvolvedor n√£o participa do monitoramento, n√£o trata dados continuamente, n√£o tem permiss√£o administrativa sobre o canal de logs e n√£o mant√©m credenciais de envio. A gest√£o de acessos e dados permanece sob responsabilidade do contratante.</p>

                <p>O desenvolvedor n√£o se responsabiliza por uso indevido das informa√ß√µes, vazamentos da infraestrutura do contratante, configura√ß√µes incorretas do Discord, falhas de seguran√ßa ou descumprimento da legisla√ß√£o.</p>

                <p>Em caso de descumprimento pelo contratante (uso il√≠cito, dados sem base legal, aus√™ncia de informa√ß√£o aos usu√°rios), o desenvolvedor pode suspender o suporte, revogar a licen√ßa e encerrar o v√≠nculo com o Musae Bot.</p>

                <p>O descumprimento pode gerar responsabiliza√ß√£o civil exclusiva do contratante por danos, preju√≠zos ou san√ß√µes, ficando o desenvolvedor isento de responsabilidade solid√°ria ou subsidi√°ria.</p>

                <p>O software √© fornecido como est√°, sem garantia de funcionamento ininterrupto ou aus√™ncia de falhas t√©cnicas.</p>

                <p>Ao contratar, instalar ou utilizar o Musae Bot, o contratante declara que leu, compreendeu e aceita integralmente os termos acima, assumindo total responsabilidade pelo tratamento dos dados.</p>
            </div>

            <form class="signature-form" id="signatureForm">
                <div class="form-group">
                    <label for="userName">Nome completo do assinante *</label>
                    <input type="text" id="userName" name="userName" required placeholder="Digite seu nome completo">
                </div>

                <div class="form-group checkbox-group">
                    <label class="checkbox-label">
                        <input type="checkbox" id="acceptTerms" name="acceptTerms" required>
                        <span class="checkmark"></span>
                        Declaro que li, compreendi e aceito integralmente o Termo de Uso e Responsabilidade do Musae Bot acima descrito.
                    </label>
                </div>

                <div class="form-group">
                    <label for="signatureDate">Data da assinatura</label>
                    <input type="date" id="signatureDate" name="signatureDate" required>
                </div>

                <div class="form-group signature-pad-group">
                    <label>Assinatura (desenhe com o mouse ou dedo)</label>
                    <div class="signature-pad-wrapper">
                        <canvas id="signaturePad" width="400" height="150"></canvas>
                        <button type="button" class="btn-clear-signature" id="clearSignature">Limpar</button>
                    </div>
                </div>

                <div class="button-group">
                    <button type="submit" class="btn btn-primary" id="submitBtn">
                        <span class="btn-text">Enviar e Salvar</span>
                        <span class="btn-icon">‚úì</span>
                    </button>
                </div>
            </form>

            <div class="success-panel" id="successPanel">
                <div class="success-icon">‚úì</div>
                <h3>Termo Musae Bot assinado com sucesso!</h3>
                <p>O documento foi salvo. O administrador ter√° acesso ao PDF.</p>
                <div class="signature-info" id="signatureInfo"></div>
            </div>
        </main>

        <footer class="footer">
            <p>Documento gerado eletronicamente com validade jur√≠dica</p>
            <a href="#" id="adminLink" class="admin-link">Acessar √°rea admin</a>
        </footer>
    </div>

    <div id="loginModal" class="login-modal">
        <div class="login-modal-content">
            <h2>üîê Login Admin</h2>
            <p class="login-modal-subtitle">Digite a senha para acessar a √°rea administrativa</p>
            <input type="password" id="loginPassword" placeholder="Senha" class="login-input">
            <p id="loginModalError" class="login-error" style="display: none;">Senha incorreta.</p>
            <div class="login-modal-buttons">
                <button type="button" class="btn btn-primary" id="loginModalBtn">Entrar</button>
                <button type="button" class="btn btn-cancel" id="loginModalCancel">Cancelar</button>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script src="script.js"></script>
    <script>
        document.getElementById('adminLink').addEventListener('click', (e) => {
            e.preventDefault();
            document.getElementById('loginModal').classList.add('visible');
            document.getElementById('loginModalError').style.display = 'none';
            document.getElementById('loginPassword').value = '';
        });
        document.getElementById('loginModalCancel').addEventListener('click', () => {
            document.getElementById('loginModal').classList.remove('visible');
        });
        document.getElementById('loginModalBtn').addEventListener('click', async () => {
            const res = await fetch('/api/admin/login', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                credentials: 'include',
                body: JSON.stringify({ password: document.getElementById('loginPassword').value })
            });
            const data = await res.json();
            if (data.success) {
                window.location.href = '/admin.html';
            } else {
                document.getElementById('loginModalError').style.display = 'block';
            }
        });
        document.getElementById('loginPassword').addEventListener('keypress', (e) => {
            if (e.key === 'Enter') document.getElementById('loginModalBtn').click();
        });
    </script>
</body>
</html>
